[General]
# > æ—¥å¿—çº§åˆ«
loglevel = notify
show-error-page-for-reject = true
# > Internet æµ‹è¯• URL
internet-test-url = http://wifi.vivo.com.cn/generate_204
# > ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://cp.cloudflare.com/generate_204
# > æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰
test-timeout = 5
# > è‡ªå®šä¹‰ GeoIP æ•°æ®åº“
geoip-maxmind-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
# > IPv6 æ”¯æŒï¼ˆé»˜è®¤å…³é—­ï¼‰
ipv6 = true
# Surge VIF IPv6 Stack
ipv6-vif = auto
# > å…è®¸ Wi-Fi è®¿é—®
allow-wifi-access = true
# > å…è®¸ä¸ªäººçƒ­ç‚¹è®¿é—®
allow-hotspot-access = true
# > HTTP æœåŠ¡ç«¯å£
wifi-access-http-port = 6152
# > SOCKS5 æœåŠ¡ç«¯å£
wifi-access-socks5-port = 6153
# > æ··åˆç½‘ç»œæ¨¡å¼
all-hybrid = false
# > å¢žå¼ºç‰ˆ Wi-Fi åŠ©ç†
wifi-assist = false
# > è¿œç¨‹æŽ§åˆ¶å™¨
external-controller-access = 3ayonara@0.0.0.0:6170
# > HTTP API
http-api = 3ayonara@0.0.0.0:6171
http-api-tls = false
# > Web Dashboard
http-api-web-dashboard = true
# > å…¼å®¹æ¨¡å¼
compatibility-mode = 0
# > è·³è¿‡ä»£ç†
skip-proxy = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.168.0.0/16, 224.0.0.0/3, ::1/128, fc00::/7, fd00::/8, fe80::/10, ff00::/8, 2001::/32, 2001:db8::/32, 2002::/16, ::ffff:0:0:0:0/1, ::ffff:128:0:0:0/1, localhost, *.local
# > æŽ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true
# > DNS æœåŠ¡å™¨
dns-server = system, 114.114.114.114, 119.29.29.29, 223.5.5.5, 223.6.6.6
encrypted-dns-server = https://doh.pub/dns-query
hijack-dns = 8.8.8.8:53, 1.1.1.1:53, 8.8.4.4:53
# > é€šè¿‡ä»£ç†è¯·æ±‚ä½¿ç”¨æœ¬åœ°DNSæ˜ å°„ç»“æžœ
use-local-host-item-for-proxy = true
# > åŠ å¯†DNSæœåŠ¡å™¨
# ä½¿åŠ å¯†DNSè¯·æ±‚é€šè¿‡ä»£ç†ç­–ç•¥æ‰§è¡Œ
encrypted-dns-follow-outbound-mode = true
# ä½¿åŠ å¯†DNSè·³è¿‡è¯ä¹¦éªŒè¯
encrypted-dns-skip-cert-verification = false
# > Always Real IP Hosts
always-real-ip = *.lan, *.id.ui.direct, cable.auth.com, *.msftconnecttest.com, *.msftncsi.com, network-test.debian.org, detectportal.firefox.com, resolver1.opendns.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, stun.*, global.turn.twilio.com, global.stun.twilio.com, localhost.*.qq.com, localhost.*.weixin.qq.com, *.logon.battlenet.com.cn, *.logon.battle.net, *.blzstatic.cn, music.163.com, *.music.163.com, *.126.net, musicapi.taihe.com, music.taihe.com, songsearch.kugou.com, trackercdn.kugou.com, *.kuwo.cn, api-jooxtt.sanook.com, api.joox.com, joox.com, y.qq.com, *.y.qq.com, streamoc.music.tc.qq.com, mobileoc.music.tc.qq.com, isure.stream.qqmusic.qq.com, dl.stream.qqmusic.qq.com, aqqmusic.tc.qq.com, amobile.music.tc.qq.com, *.xiami.com, *.music.migu.cn, music.migu.cn, proxy.golang.org, *.mcdn.bilivideo.cn, *.cmpassport.com, id6.me, open.e.189.cn, mdn.open.wo.cn, auth.wosms.cn, *.jegotrip.com.cn, *.icitymobile.mobi, *.pingan.com.cn, *.cmbchina.com, pool.ntp.org, *.pool.ntp.org, ntp.*.com, time.*.com, ntp?.*.com, time?.*.com, time.*.gov, time.*.edu.cn, *.ntp.org.cn, PDC._msDCS.*.*, DC._msDCS.*.*, GC._msDCS.*.*
# > æ¸¸æˆä¼˜åŒ–
udp-priority = true

[Replica]
# > éšè— Apple è¯·æ±‚
hide-apple-request = false
# > éšè—å´©æºƒè¿½è¸ªå™¨è¯·æ±‚
hide-crash-reporter-request = true
# > éšè— UDP ä¼šè¯
hide-udp = false
# > å…³é”®è¯è¿‡æ»¤å™¨
keyword-filter-type = none

[Proxy]
ðŸŒ Direct = direct
â›”ï¸ Reject = reject

[Proxy Group]
3ayonara = select, hidden=1, policy-path=https://sub.store/download/collection/ALO, update-interval=0, no-alert=0, include-all-proxies=0
ðŸŒ‘ Proxy = select, ðŸ‡¯ðŸ‡µ JPN, ðŸ‡­ðŸ‡° HKG, ðŸ‡¸ðŸ‡¬ SGP, ðŸ‡ºðŸ‡¸ USA, ðŸ‡ºðŸ‡³ Other
ðŸ¤– LLM = select, ðŸ‡¯ðŸ‡µ JPN, ðŸ‡­ðŸ‡° HKG, ðŸ‡¸ðŸ‡¬ SGP, ðŸ‡ºðŸ‡¸ USA, ðŸ‡ºðŸ‡³ Other
ðŸŽ Apple = select, ðŸŒ Direct, ðŸ‡¯ðŸ‡µ JPN, ðŸ‡­ðŸ‡° HKG, ðŸ‡¸ðŸ‡¬ SGP, ðŸ‡ºðŸ‡¸ USA, ðŸ‡ºðŸ‡³ Other
ðŸ” Google = select, ðŸ‡¯ðŸ‡µ JPN, ðŸ‡­ðŸ‡° HKG, ðŸ‡¸ðŸ‡¬ SGP, ðŸ‡ºðŸ‡¸ USA, ðŸ‡ºðŸ‡³ Other
ðŸŽµ Spotify = select, ðŸ‡¯ðŸ‡µ JPN, ðŸ‡­ðŸ‡° HKG, ðŸ‡¸ðŸ‡¬ SGP, ðŸ‡ºðŸ‡¸ USA, ðŸ‡ºðŸ‡³ Other
ðŸ¿ Netflix = select, ðŸ‡¯ðŸ‡µ JPN, ðŸ‡­ðŸ‡° HKG, ðŸ‡¸ðŸ‡¬ SGP, ðŸ‡ºðŸ‡¸ USA, ðŸ‡ºðŸ‡³ Other
ðŸ“º YouTube = select, ðŸ‡¯ðŸ‡µ JPN, ðŸ‡­ðŸ‡° HKG, ðŸ‡¸ðŸ‡¬ SGP, ðŸ‡ºðŸ‡¸ USA, ðŸ‡ºðŸ‡³ Other
âœˆï¸ Telegram = select, ðŸ‡¯ðŸ‡µ JPN, ðŸ‡­ðŸ‡° HKG, ðŸ‡¸ðŸ‡¬ SGP, ðŸ‡ºðŸ‡¸ USA, ðŸ‡ºðŸ‡³ Other
ðŸ“ IP Attribution = select, ðŸŒ Direct, â›”ï¸ Reject, ðŸ‡¯ðŸ‡µ JPN, ðŸ‡­ðŸ‡° HKG, ðŸ‡¸ðŸ‡¬ SGP, ðŸ‡ºðŸ‡¸ USA, ðŸ‡ºðŸ‡³ Other
ðŸ‡¯ðŸ‡µ JPN = url-test, include-all-proxies=true, include-other-group=3ayonara, url=http://cp.cloudflare.com/generate_204, interval=60, tolerance=30, hidden=0, policy-regex-filter=^(ðŸ‡¯ðŸ‡µ|æ—¥æœ¬|Japan|JP|JPN).*, evaluate-before-use=true
ðŸ‡­ðŸ‡° HKG = url-test, include-all-proxies=true, include-other-group=3ayonara, url=http://cp.cloudflare.com/generate_204, interval=60, tolerance=30, hidden=0, policy-regex-filter=^(ðŸ‡­ðŸ‡°|é¦™æ¸¯|HK|Hongkong|HKG).*, evaluate-before-use=true
ðŸ‡¸ðŸ‡¬ SGP = url-test, include-all-proxies=true, include-other-group=3ayonara, url=http://cp.cloudflare.com/generate_204, interval=60, tolerance=30, hidden=0, policy-regex-filter=^(ðŸ‡¸ðŸ‡¬|æ–°åŠ å¡|SG|Singapore|SGP).*, evaluate-before-use=true
ðŸ‡ºðŸ‡¸ USA = url-test, include-all-proxies=true, include-other-group=3ayonara, url=http://cp.cloudflare.com/generate_204, interval=60, tolerance=30, hidden=0, policy-regex-filter=^(ðŸ‡ºðŸ‡¸|ç¾Žå›½|US|United States|USA).*, evaluate-before-use=true
ðŸ‡ºðŸ‡³ Other = url-test, include-all-proxies=true, include-other-group=3ayonara, url=http://cp.cloudflare.com/generate_204, interval=60, tolerance=30, hidden=0, policy-regex-filter=^(?!.*(?:ðŸ‡¯ðŸ‡µ|æ—¥æœ¬|Japan|JP|JPN|ðŸ‡­ðŸ‡°|é¦™æ¸¯|HK|Hongkong|HKG|ðŸ‡¸ðŸ‡¬|æ–°åŠ å¡|SG|Singapore|SGP|ðŸ‡ºðŸ‡¸|ç¾Žå›½|US|United States|USA)).*$, evaluate-before-use=true

[Rule]
# > é˜²æ­¢åº”ç”¨å¾ªçŽ¯è¯·æ±‚
IP-CIDR,0.0.0.0/32,REJECT,no-resolve
# > Unbreak åŽç»­è§„åˆ™ä¿®æ­£
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list,ðŸŒ Direct
# > å±€åŸŸç½‘åœ°å€
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Lan/Lan.list,ðŸŒ Direct
# > Apple
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple_All_No_Resolve.list,ðŸŽ Apple
# > LLM
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/master/rule/Surge/OpenAI/OpenAI.list,ðŸ¤– LLM
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/master/rule/Surge/BardAI/BardAI.list,ðŸ¤– LLM
# > Google
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,ðŸ” Google
# > Spotify
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Spotify/Spotify.list,ðŸŽµ Spotify
# > Netflix
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,ðŸ¿ Netflix
# > YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,ðŸ“º YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTubeMusic/YouTubeMusic.list,ðŸ“º YouTube
# > Telegram
RULE-SET,https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.Telegram.list,âœˆï¸ Telegram
# > IP Attribution
RULE-SET,https://raw.githubusercontent.com/3ayonara/Surge/main/Rule/Anti-IP-Attribution.list,ðŸ“ IP Attribution
# > AD & Privacy
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list,â›”ï¸ Reject
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list,â›”ï¸ Reject
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list,â›”ï¸ Reject
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Advertising/Advertising.list,â›”ï¸ Reject
DOMAIN-SET,https://raw.githubusercontent.com/privacy-protection-tools/anti-AD/master/anti-ad-surge2.txt,â›”ï¸ Reject
DOMAIN-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/AdvertisingPlus.list,â›”ï¸ Reject
# > China
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaASN/ChinaASN_Resolve.list,ðŸŒ Direct
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/WeChat/WeChat.list,ðŸŒ Direct
# > Proxy
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Proxy/Proxy_All_No_Resolve.list,ðŸŒ‘ Proxy
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Bing/Bing.list,ðŸŒ‘ Proxy

FINAL,ðŸŒ‘ Proxy,dns-failed